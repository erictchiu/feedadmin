<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta http-equiv="Content-Style-Type" content="text/css" />
	<link rel="stylesheet" type="text/css" media="screen"  href="doc.css" />
	<!--[if IE]>
		<link rel='stylesheet' type='text/css' media='screen'  href='docIE.css' />
	<![endif]-->
	<title>Upgrading TalkBack From Version 1.x</title>
</head> 

<body> 
<div id="wrapper">
	<div id="header">
		<strong>TalkBack User Guide<br />Upgrading From Version 1.x</strong><br />
	</div>
	<div id="inner">

<p class='center'><a href="index.html">Table of Contents</a></p>

<ol>

<li>Check styleCustom.css. Change the path in the four background url's if it is not correct for your system: 
<p>An incorrect path results in next/previous links without a right/left arrow. There are black and grey icons in /images that you may prefer to use. You can also use your image editor to change the color or create your own icons.</p></li>

<li><b>Backup your current TalkBack files</b>. Download the TalkBack directory and all files to your PC and keep them in a safe place. If, for any reason you later want to revert back to version 1, you must have these files.</li>

<li>Disable comments. On every page that has comments, put a pair of slashes inside the PHP include statement. Example:

<p><code>&lt;?php // include $_SERVER['DOCUMENT_ROOT'] . '/<span class='highlight'>talkback/</span>comments.php'; ?&gt; </code></p>

<p>You may also want to insert a paragraph to the effect that comments are temporarily down for maintenance.</p>
</li>

<li>Delete all the sub directories and files <b>except config.php</b> from the TalkBack directory on your server. Your version 1 config.php is needed by the upgrade script.</li>

<li>Upload all version 2 files and sub directories EXCEPT the tips directory to your TalkBack directory. Make config.php writeable if you can (Unix chmod 777).</li>

<li>Browse to <code>http://<span class='highlight'>yoursite.com/talkback</span>/install/upgrade.php</code>.</li>

<li><b>Click the Backup button</b>. This will create and download a database backup file to your PC. Put it in a safe place in case anything goes wrong and you have to revert to version 1.</li>

<li>After the backup file has finished downloading, click the Upgrade button. 

<p>When it finishes successfully, if the upgrade script was unable to update the config.php file, copy the displayed configuration entries and paste them into a text document and name it config.php. Upload it to your server replacing the version 1 config.php file.</p> 
</li>

<li>Browse to <code>http://<span class='highlight'>yoursite.com/talkback</span>/admin</code> and check to see if everything looks okay in the admin panels. Your existing comments should be listed as they were before (but in a slightly different format).

<p>You will need to use the configuration maintenance panel to edit date locale if you want dates displayed in a different language. You also need to change the values in admin panels date format and comments pages date format. The legal values changed in version 2.1. See <a href="date-format.html">Date Format Options</a> for more information.</p></li>

<li>Browse to <code>http://<span class='highlight'>yoursite.com/talkback</span>/test.php</code> and test comments entry, reply, edit and preview.</li>

<li>Edit the &lt;head&gt; section of your pages to change the stylesheet links (there are more links than in version 1). See <a href='adding-comments.html'>Adding Comments to Your Pages</a>.</li>

<li>When you are satisfied it is working okay, make your CSS and layout changes.</li>

<li>Re-enable comments on your pages.</li>

<li><strong>Delete the install directory</strong> when you are finished. Keeping it is a security risk. You can always upload it later if for some reason you need to reinstall.</li>
</ol>

<p>Post in the support forum if any problems arise during the upgrade.</p>

<p><b>Tip:</b> If you have existing comments that are &ldquo;replies&rdquo; to other comments and you want them to appear as replies, simply edit each of the reply comments. In the Reply to field on the edit form, insert the ID number of the comment that is being replied to.</p>

	</div>
	<div id="footer">Powered by <a href='http://www.scripts.oldguy.us'>TalkBack</a></div>
</div>
</body>
</html>